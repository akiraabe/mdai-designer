# E2Eãƒ†ã‚¹ãƒˆ - è¨­è¨ˆæ›¸ã‚¨ãƒ‡ã‚£ã‚¿

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€è¨­è¨ˆæ›¸ã‚¨ãƒ‡ã‚£ã‚¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã® End-to-End (E2E) ãƒ†ã‚¹ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## æ¦‚è¦

Playwrightã¨TypeScriptã‚’ä½¿ç”¨ã—ã¦ã€å®Ÿéš›ã®ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸»è¦æ©Ÿèƒ½ã‚’è‡ªå‹•ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚æ‰‹å‹•ã§ã®ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’å®Œå…¨è‡ªå‹•åŒ–ã—ã€ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³é˜²æ­¢ã¨å“è³ªç¢ºä¿ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd e2e-tests
npm install
npx playwright install  # ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```

### ğŸ“‹ é‡è¦ï¼šé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã«ã¤ã„ã¦

**äº‹å‰ã«ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ï¼**

ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«ä»¥ä¸‹ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
- âœ… ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªï¼ˆ5173ãƒãƒ¼ãƒˆï¼‰ã®è‡ªå‹•èµ·å‹•
- âœ… æ—¢ã«èµ·å‹•ä¸­ã®å ´åˆã¯æ—¢å­˜ã‚µãƒ¼ãƒãƒ¼ã‚’å†åˆ©ç”¨
- âœ… ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œã®è‡ªå‹•çµ‚äº†

æ‰‹å‹•ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•æ¸ˆã¿ã®å ´åˆã§ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
e2e-tests/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package.json                 # ãƒ†ã‚¹ãƒˆå°‚ç”¨ã®ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ playwright.config.ts         # Playwrightè¨­å®š
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ spreadsheet-integration.spec.ts  # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ test-helpers.ts      # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹
â”œâ”€â”€ screenshots/                 # ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼ˆgitå¯¾è±¡å¤–ï¼‰
â”œâ”€â”€ downloads/                   # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆgitå¯¾è±¡å¤–ï¼‰
â””â”€â”€ test-results/               # ãƒ†ã‚¹ãƒˆçµæœï¼ˆgitå¯¾è±¡å¤–ï¼‰
```

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

### åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run test

# ãƒ–ãƒ©ã‚¦ã‚¶ã‚’è¡¨ç¤ºã—ã¦å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼šé–‹ç™ºæ™‚ï¼‰
npm run test:headed

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œï¼‰
npm run test:debug

# ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º
npm run report
```

### ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
```bash
# çµ±åˆãƒ†ã‚¹ãƒˆã®ã¿
npx playwright test -g "åŸºæœ¬æ“ä½œãƒ•ãƒ­ãƒ¼"

# ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒ†ã‚¹ãƒˆã®ã¿
npx playwright test -g "ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ"
```

## ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

### 1. åŸºæœ¬æ“ä½œãƒ•ãƒ­ãƒ¼ï¼šç·¨é›†â†’ä¿å­˜â†’èª­ã¿è¾¼ã¿

**ãƒ†ã‚¹ãƒˆå¯¾è±¡æ“ä½œï¼š**
1. **åˆæœŸè¡¨ç¤ºç¢ºèª** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ­£å¸¸èµ·å‹•
2. **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿** - ç´«ãƒœã‚¿ãƒ³ã§ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
3. **Markdownç·¨é›†** - è£œè¶³èª¬æ˜ã‚¨ãƒªã‚¢ã§ã®ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†
4. **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚¨ãƒªã‚¢æ‹¡å¤§** - ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒªã‚µã‚¤ã‚ºï¼ˆæ‹¡å¤§ï¼‰
5. **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚¨ãƒªã‚¢ç¸®å°** - ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒªã‚µã‚¤ã‚ºï¼ˆç¸®å°ï¼‰
6. **ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜** - JSONãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
7. **ç”»é¢ãƒªãƒ­ãƒ¼ãƒ‰** - ãƒ–ãƒ©ã‚¦ã‚¶ãƒªãƒ­ãƒ¼ãƒ‰ã§ã®çŠ¶æ…‹åˆæœŸåŒ–
8. **ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿** - ä¿å­˜ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
9. **æœ€çµ‚çŠ¶æ…‹ç¢ºèª** - UIè¦ç´ ã®è¡¨ç¤ºç¢ºèª

**å®Ÿè¡Œæ™‚é–“ï¼š** ç´„16-18ç§’

### 2. ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡æ“ä½œï¼š**
1. **åˆæœŸçŠ¶æ…‹ç¢ºèª** - è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã§ã®èµ·å‹•
2. **ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ** - ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒæ“ä½œ
3. **ã‚»ãƒ«ç·¨é›†ãƒ†ã‚¹ãƒˆ** - Fortune-Sheetã§ã®ã‚»ãƒ«å…¥åŠ›
4. **è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã™** - ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã§æˆ»ã™

## ãƒ†ã‚¹ãƒˆã§ç¢ºèªã§ãã‚‹ã“ã¨

### âœ… æ©Ÿèƒ½çš„å“è³ªä¿è¨¼

**ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**
- JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãŒæ­£å¸¸ã«å‹•ä½œ
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨æ€§ãŒä¿æŒ
- Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¿å­˜ãƒ»å¾©å…ƒãŒæ­£å¸¸

**UIæ“ä½œæ€§**
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã«ã‚ˆã‚‹ãƒªã‚µã‚¤ã‚ºæ©Ÿèƒ½ã®å‹•ä½œ
- ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆï¼ˆè¡¨ç¤º/ç·¨é›†ï¼‰ã®æ­£å¸¸å‹•ä½œ
- ãƒœã‚¿ãƒ³æ“ä½œã¨ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã®é€£æº

**ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§**
- Chromeï¼ˆChromiumï¼‰ã§ã®å‹•ä½œç¢ºèª
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ãƒ–ãƒ©ã‚¦ã‚¶å‡¦ç†
- JavaScriptã‚¨ãƒ©ãƒ¼ã®æ¤œå‡º

### âœ… å›å¸°ãƒ†ã‚¹ãƒˆ

**å¤‰æ›´ã®å½±éŸ¿ç¯„å›²ç¢ºèª**
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®æ­£ã«ã‚ˆã‚‹æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿æ¤œå‡º
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ™‚ã®å‹•ä½œç¢ºèª
- Fortune-Sheetã®è¤‡é›‘ãªçŠ¶æ…‹ç®¡ç†ã®å®‰å®šæ€§ç¢ºèª

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**
- å„ã‚¹ãƒ†ãƒƒãƒ—ã®å®Ÿè¡Œæ™‚é–“è¨ˆæ¸¬
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–æ™‚é–“ã®ç›£è¦–
- ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†é€Ÿåº¦ã®ç¢ºèª

### âœ… ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ¤œè¨¼

**å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ãƒ­ãƒ¼**
- å…¸å‹çš„ãªä½œæ¥­ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è‡ªå‹•å®Ÿè¡Œ
- è¤‡æ•°æ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ãŸå®Ÿç”¨çš„ãªã‚·ãƒŠãƒªã‚ª
- ã‚¨ãƒ©ãƒ¼çŠ¶æ³ã®æ—©æœŸç™ºè¦‹

## å‡ºåŠ›ã¨ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ

### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
å„ãƒ†ã‚¹ãƒˆã‚¹ãƒ†ãƒƒãƒ—ã§è‡ªå‹•æ’®å½±ã•ã‚Œã‚‹ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ï¼š
- `screenshots/01-initial-display-[timestamp].png`
- `screenshots/02-test-data-loaded-[timestamp].png`
- `screenshots/03-markdown-edited-[timestamp].png`
- `screenshots/04-resized-large-[timestamp].png`
- `screenshots/05-resized-small-[timestamp].png`
- `screenshots/06-after-save-[timestamp].png`
- `screenshots/07-after-reload-[timestamp].png`
- `screenshots/08-after-load-[timestamp].png`
- `screenshots/09-final-verification-[timestamp].png`

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- `downloads/playwright-test-[timestamp].json` - ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆç”¨

### ãƒ¬ãƒãƒ¼ãƒˆ
- HTMLãƒ¬ãƒãƒ¼ãƒˆï¼š`test-results/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- å¤±æ•—æ™‚ã®å‹•ç”»éŒ²ç”»
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ãƒˆãƒ¬ãƒ¼ã‚¹æƒ…å ±

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šæ–½ç­–

**data-testidå±æ€§ã®è¿½åŠ **
ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ†ã‚¹ãƒˆç”¨ã®IDå±æ€§ã‚’è¿½åŠ æ¸ˆã¿ï¼š
- `[data-testid="spreadsheet-container"]` - SpreadsheetEditorã‚³ãƒ³ãƒ†ãƒŠ
- `[data-testid="edit-mode-toggle"]` - ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒ
- `[data-testid="resize-handle"]` - ãƒªã‚µã‚¤ã‚ºãƒãƒ³ãƒ‰ãƒ«
- `[data-testid="save-button"]` - ä¿å­˜ãƒœã‚¿ãƒ³
- `[data-testid="load-button"]` - èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³
- `[data-testid="test-data-button"]` - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³
- `[data-testid="markdown-editor-container"]` - Markdownã‚¨ãƒ‡ã‚£ã‚¿ã‚³ãƒ³ãƒ†ãƒŠ

### ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼æ©Ÿèƒ½
`tests/utils/test-helpers.ts` ã«ä»¥ä¸‹ã®å…±é€šæ©Ÿèƒ½ã‚’å®Ÿè£…ï¼š
- ãƒ•ãƒ«ãƒšãƒ¼ã‚¸ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ’®å½±
- ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿å‡¦ç†
- ãƒªã‚µã‚¤ã‚ºæ“ä½œã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
- ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆæ“ä½œ
- è¤‡æ•°è¦ç´ é¸æŠæˆ¦ç•¥ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼‰

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼**
```bash
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·
npx playwright test --timeout=60000
```

**è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
- data-testidå±æ€§ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- CSS ã‚»ãƒ¬ã‚¯ã‚¿ã®å¤‰æ›´ãŒãªã„ã‹ç¢ºèª

**ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚¨ãƒ©ãƒ¼**
- downloadsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è¨­å®šç¢ºèª

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

**ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œ**
```bash
npm run test:debug
```

**ç‰¹å®šã‚¹ãƒ†ãƒƒãƒ—ã§ã®åœæ­¢**
```typescript
await page.pause(); // ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã«è¿½åŠ 
```

**è©³ç´°ãƒ­ã‚°ç¢ºèª**
```bash
DEBUG=pw:api npx playwright test
```

## CI/CDçµ±åˆ

ã“ã®ãƒ†ã‚¹ãƒˆã¯CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ±åˆå¯èƒ½ãªæ§‹é€ ã§è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### åŸºæœ¬çš„ãªCIè¨­å®š

**GitHub Actionsè¨­å®šä¾‹** (`.github/workflows/e2e-test.yml`)ï¼š
```yaml
name: E2E Tests

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    timeout-minutes: 60
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: Install main dependencies
      run: npm ci
      
    - name: Install E2E dependencies
      run: |
        cd e2e-tests
        npm ci
        
    - name: Install Playwright Browsers
      run: |
        cd e2e-tests
        npx playwright install --with-deps
        
    - name: Run E2E tests
      run: |
        cd e2e-tests
        npm run test
        
    - uses: actions/upload-artifact@v4
      if: always()
      with:
        name: playwright-report
        path: e2e-tests/test-results/
        retention-days: 30
```

### CIå®Ÿè¡Œã§ã®åˆ©ç‚¹

**è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹æ©Ÿèƒ½ï¼š**
- âœ… **webServerè‡ªå‹•èµ·å‹•** - CIç’°å¢ƒã§ã‚‚è‡ªå‹•ã§ã‚¢ãƒ—ãƒªãŒç«‹ã¡ä¸ŠãŒã‚‹
- âœ… **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ** - å¤±æ•—æ™‚ã®çŠ¶æ³ãŒç”»åƒã§æ®‹ã‚‹  
- âœ… **å‹•ç”»éŒ²ç”»** - å¤±æ•—ã®çµŒç·¯ãŒå‹•ç”»ã§ç¢ºèªå¯èƒ½
- âœ… **HTMLãƒ¬ãƒãƒ¼ãƒˆ** - ç¾ã—ã„çµæœç”»é¢ãŒã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã«
- âœ… **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½** - ä¸€æ™‚çš„ãªä¸å®‰å®šæ€§ã«å¯¾å¿œ

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼š**
- ãƒ—ãƒƒã‚·ãƒ¥æ™‚ï¼ˆmain, developãƒ–ãƒ©ãƒ³ãƒï¼‰
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆãƒ»æ›´æ–°æ™‚
- æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

### å°†æ¥ã®æ‹¡å¼µäºˆå®š

**æ®µéšçš„ãªCIå¼·åŒ–æ¡ˆï¼š**
1. **ç¾åœ¨ï¼šãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®ã¿** - å¤±æ•—ã—ã¦ã‚‚ãƒãƒ¼ã‚¸å¯èƒ½ï¼ˆè­¦å‘Šè¡¨ç¤ºï¼‰
2. **Phase 2ï¼šãƒãƒ¼ã‚¸ä¿è­·** - å¿…é ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®š
3. **Phase 3ï¼šè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤** - ãƒ†ã‚¹ãƒˆæˆåŠŸæ™‚ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
4. **Phase 4ï¼šãƒãƒˆãƒªãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆ** - è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ä¸¦åˆ—å®Ÿè¡Œ

**é«˜åº¦ãªè¨­å®šä¾‹ï¼ˆå°†æ¥ç”¨ï¼‰ï¼š**
```yaml
# è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ
strategy:
  matrix:
    browser: [chromium, firefox, webkit]

# å¿…é ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®š
# GitHub > Settings > Branches > Branch protection rules
# âœ… Require status checks to pass before merging
# âœ… E2E Tests

# é€šçŸ¥è¨­å®š
# âœ… Slack/Teamsé€šçŸ¥
# âœ… ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
```

### ãã®ä»–ã®CI/CDãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

**Dockerå¯¾å¿œï¼š**
```dockerfile
FROM mcr.microsoft.com/playwright:v1.53.0-focal
COPY . /app
WORKDIR /app/e2e-tests
RUN npm ci && npx playwright install
CMD ["npm", "run", "test"]
```

**GitLab CIï¼š**
```yaml
e2e-test:
  image: mcr.microsoft.com/playwright:v1.53.0-focal
  script:
    - cd e2e-tests
    - npm ci
    - npx playwright install
    - npm run test
  artifacts:
    when: always
    paths:
      - e2e-tests/test-results/
```

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- **ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ** - Firefoxã€Safariå¯¾å¿œ
- **ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ãƒ†ã‚¹ãƒˆ** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ** - WCAGæº–æ‹ ç¢ºèª
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ** - Core Web Vitalsè¨ˆæ¸¬
- **ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ** - UIå¤‰æ›´ã®è‡ªå‹•æ¤œå‡º